<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<dom-module id="table-item">
    <style>
    :host {
        height: 100px;
        width: 90%;
    }
    
    .sequentialWrapper {
        display: flex;
        justify-content: stretch;
        flex-wrap: nowrap;
        overflow: hidden;
    }
    
    .iconItem {
        width: 24px;
        height: 24px;
        flex: 0 0 24px;
    }
    
    .textItem {
        margin-left: 5px;
        padding: 1px;
        overflow: hidden;
        flex: 0 1 100%;
        user-select: none;
    }
    
    .textContent {
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
        cursor: default;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }
    
    .subMenuItem {
        margin: 5px;
    }
    
    .rootMenuItem {
        margin: 1px;
        padding: 3px;
    }
    
    #toolbar {
        content-alignment: center;
        height: 90%;
        width: 90%;
        margin: 20px;
    }
    
    #insertion_point {
        widows: 100%;
        height: 100%;
    }
    
    #proxy {
        position: fixed;
        z-index: 101;
        display: none;
        opacity: 0.75;
        background: #f88;
        box-sizing: border-box;
        padding: 0;
        margin: 0;
        display: flex;
        cursor: copy;
    }
    
    #proxy > * {
        width: 100% !important;
        height: 100% !important;
        margin: 0;
    }
    </style>
    <template>
        <iron-ajax id="ajax" url="http://localhost:4000/api" handle-as="json" on-response="handleResponse" method="GET" debounce-duration="300"></iron-ajax>
        <template is="dom-repeat" items="{{orders}}">
            <div>Order# <span>{{index}}</span>:<span>{{item}}</div>
        </template>
    </template>
    <script>
    'use strict';
    Polymer({
        is: 'table-item',
        properties: {
            orders: {
                type: Array,
                notify: true,
                value: ['test', 'test2']
            }

        },
        attached: function(evt) {
            this.$.ajax.generateRequest();
        },
        handleResponse: function(evt) {
            var mapped = evt.detail.response.rows.map(function(obj){
                return obj.name;
            });
            this.orders = mapped;
        }
    });
    </script>
</dom-module>
